<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CafeSync POS System</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/date-fns/cdn.min.js"></script>
</head>
<body>
<nav class="top-navbar">
    <div class="navbar-left">
        <button id="sidebar-toggle-btn" class="sidebar-toggle-btn">
            <span class="material-icons">menu</span>
        </button>
    </div>
    <h2 class="company-logo">Acaccia Bistro Cafe POS</h2>
    <div class="navbar-right">
        <div class="employee-info">
            <div class="employee-avatar">JS</div>
            <span class="employee-name">John Smith</span>
        </div>
        <button class="btn btn--outline btn--sm logout-btn">Logout</button>
    </div>
</nav>
    
    <div class="main-container">
        <aside class="sidebar">
            <nav class="sidebar-nav">
                <ul class="nav-list">
                    <li class="nav-item" data-permission="pos">
                        <button class="nav-link active" data-section="pos" style="position: relative;">
                            <span class="nav-icon material-icons">shopping_cart</span>
                            <span class="nav-text">Orders</span>
                            <span id="orders-alert-dot" class="sidebar-alert-dot"></span>
                        </button>
                    </li>
<li class="nav-item" data-permission="inventory">
    <button class="nav-link" data-section="inventory" style="position: relative;">
        <span class="nav-icon material-icons">inventory_2</span>
        <span class="nav-text">Inventory</span>
        <span class="nav-dropdown-arrow material-icons">expand_more</span>
        <span id="inventory-alert-dot" class="sidebar-alert-dot"></span>
    </button>
    <ul class="nav-subsection">
        <li class="nav-subitem" data-permission="inventory">
            <button class="nav-link" data-section="add-items">
                <span class="nav-icon material-icons">post_add</span>
                <span class="nav-text">Add/Manage Items</span>
            </button>
        </li>
        <li class="nav-subitem" data-permission="inventory">
            <button class="nav-link" data-section="restock-prediction" style="position: relative;">
                <span class="nav-icon material-icons">trending_up</span>
                <span class="nav-text">Restock Prediction</span>
                <span id="restock-alert-dot" class="sidebar-alert-dot"></span>
            </button>
        </li>
    </ul>
</li>
                    <li class="nav-item" data-permission="transactions">
                        <button id="transactions-tab" class="nav-link" data-section="transactions">
                            <span class="nav-icon material-icons">receipt_long</span>
                            <span class="nav-text">Transactions</span>
                        </button>
                    </li>
                    <li class="nav-item" data-permission="reservations">
                        <button class="nav-link" data-section="reservations" style="position: relative;">
                            <span class="nav-icon material-icons">event</span>
                            <span class="nav-text">Reservations</span>
                            <span id="reservations-alert-dot" class="sidebar-alert-dot"></span>
                        </button>
                    </li>
                    <li class="nav-item" data-permission="accounts">
                        <button class="nav-link" data-section="accounts">
                           <span class="nav-icon material-icons">group</span>
                            <span class="nav-text">Accounts</span>
                        </button>
                    </li>
                    <li class="nav-item" data-permission="feedback">
                        <button class="nav-link" data-section="feedback" style="position: relative;">
                            <span class="nav-icon material-icons">star</span>
                            <span class="nav-text">Feedback</span>
                            <span id="feedback-alert-dot" class="sidebar-alert-dot"></span>
                        </button>
                    </li>
                    <li class="nav-item" data-permission="analytics">
                        <button class="nav-link" data-section="analytics">
                            <span class="nav-icon material-icons">analytics</span>
                            <span class="nav-text">Analytics</span>
                        </button>
                    </li>
                </ul>
            </nav>
        </aside>

        <main class="main-content">
            <div id="content-area">
                <!-- POS SECTION -->
                <section id="pos-section" class="content-section active">
                    <div class="section-header-row">
                        <h1>Point of Sale</h1>
                        <div class="header-actions">
                            <button id="edit-mode-btn" class="btn btn--secondary">Edit Menu</button>
                            <button id="add-menu-item-btn" class="btn btn--primary">Add Menu Item</button>
                        </div>
                    </div>

                    <div id="menu-item-modal" class="modal">
                        <div class="modal-content modal-content--wide">
                            <h2 id="menu-modal-title">Add Menu Product</h2>
                            <form id="menu-item-form">
                                <input type="hidden" id="menu-product-id" />
                                <div class="form-grid-two-col">
                                    <div class="form-column">
                                        <div class="form-group">
                                            <label for="menu-waiting-time">Avg. Waiting Time:</label>
                                            <select id="menu-waiting-time" class="form-control" required>
                                                <option value="">Select time...</option>
                                                <option value="short">Short (< 5 min)</option>
                                                <option value="medium">Medium (5-10 min)</option>
                                                <option value="long">Long (15-20 min)</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div class="form-column">
                                        <div class="form-group">
                                            <label for="menu-name">Product Name:</label>
                                            <input type="text" id="menu-name" class="form-control" placeholder="e.g., Cappuccino" required>
                                        </div>
                                    </div>
                                    <div class="form-column">
                                        <div id="single-price-wrapper" class="form-group">
                                            <label for="menu-price">Price (‚Ç±):</label>
                                            <input type="number" id="menu-price" class="form-control" placeholder="0.00" step="0.01" min="0">
                                        </div>
                                        <div class="form-group">
                                            <label>Pricing:</label>
                                            <div class="permission-item">
                                                <input type="checkbox" id="product-variation-toggle">
                                                <label for="product-variation-toggle" style="font-weight: 500; cursor: pointer;">This product has variations (e.g., 8oz, 12oz)</label>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="form-column">
                                        <div class="form-group">
                                            <label for="menu-category">Category:</label>
                                            <select id="menu-category" class="form-control" required>
                                                <option value="">Select category...</option>
                                            </select>
                                            <input type="text" id="new-category-input" class="form-control" placeholder="Enter new category name..." style="display: none; margin-top: 8px;">
                                        </div>
                                    </div>
                                </div>
                                 <div id="variations-wrapper" class="form-group hidden">
                                        <label>Product Variations</label>
                                        <div id="product-variations-list"></div>
                                        <button type="button" id="add-variation-btn" class="btn btn--secondary btn--small" style="margin-top: 10px;">+ Add Variation</button>
                                    </div>

                                    <!-- ADD THIS NEW SECTION -->
                                    <div class="form-group">
                                        <label>Secondary Stock (Optional)</label>
                                        <div class="permission-item">
                                            <input type="checkbox" id="secondary-stock-toggle">
                                            <label for="secondary-stock-toggle" style="font-weight: 500; cursor: pointer;">Enable secondary stock for this product</label>
                                            <p style="font-size: 12px; color: #666; margin-top: 4px;">When primary ingredients run out, these alternatives will be used automatically.</p>
                                        </div>
                                    </div>

                                    <div id="secondary-stock-wrapper" class="form-group hidden">
                                        <label>Secondary Stock Recipes</label>
                                        <div id="secondary-stock-list"></div>
                                    </div>

                                <div class="form-group">
                                    <label>Recipe (Ingredients):</label>
                                    <div id="recipe-list" style="max-height: 200px; overflow-y: auto; border: 1px solid #ccc; padding: 10px; border-radius: 8px;"></div>
                                    <button type="button" id="add-ingredient-btn" class="btn btn--secondary btn--small" style="margin-top: 10px;">+ Add Ingredient</button>
                                </div>
                                <label>Product Image:</label>
                                <div class="image-upload-container">
                                    <label for="menu-image-upload" class="image-upload-label">üì∑ Upload Image</label>
                                    <input type="file" id="menu-image-upload" accept="image/*">
                                    <img id="menu-image-preview" class="hidden" alt="Image preview">
                                </div>
                                <div class="modal-buttons">
                                    <button type="submit" class="btn btn--primary">Save Product & Recipe</button>
                                    <button type="button" id="cancel-menu-btn" class="btn btn--secondary">Cancel</button>
                                </div>
                            </form>
                        </div>
                    </div>

                    <div class="pos-layout">
                        <div class="pos-left">
                            <div id="orders-line-container">
                                <h5 class="orders-line-title">Pending Orders</h5>
                                <div id="orders-line" class="orders-line"></div>
                            </div>
                            <div id="category-tabs-container"></div>
                            <div class="product-grid" id="product-grid"></div>
                        </div>
                        <div class="pos-right">
                            <div class="cart-section">
                                <h3>Shopping Cart</h3>
                                <div class="cart-items" id="cart-items">
                                    <p class="empty-cart">Cart is empty</p>
                                </div>
                                <div class="cart-total">
                                    <div class="total-line">
                                        <span>Subtotal:</span>
                                        <span id="cart-subtotal">‚Ç±0.00</span>
                                    </div>
                                    <div class="total-line discount-line">
                                        <span>Discount:</span>
                                        <span id="cart-discount">(‚Ç±0.00)</span>
                                    </div>
                                    <div class="total-line">
                                        <span>Tax:</span>
                                        <span id="cart-tax">‚Ç±0.00</span>
                                    </div>
                                    <div class="total-line total-final">
                                        <span>Total:</span>
                                        <span id="cart-total">‚Ç±0.00</span>
                                    </div>
                                </div>
                                <div class="discount-controls">
                                    <div class="form-group">
                                        <label for="discount-type">Apply Discount</label>
                                        <select id="discount-type" class="form-control">
                                            <option value="none">No Discount</option>
                                            <option value="PWD">PWD (20%)</option>
                                            <option value="Senior">Senior (20%)</option>
                                            <option value="Custom">Custom Amount</option>
                                        </select>
                                    </div>
                                    <div class="form-group hidden" id="custom-discount-wrapper">
                                        <label for="custom-discount-amount">Custom Discount (%)</label>
                                        <div style="display: flex; gap: 8px;">
                                            <input type="number" id="custom-discount-amount" class="form-control" placeholder="e.g., 15 (for 15%)" step="0.01" min="0" max="100">
                                            <button type="button" id="apply-discount-btn" class="btn btn--secondary">Apply</button>
                                        </div>
                                    </div>
                                </div>
                                <div class="payment-buttons">
                                    <button class="btn btn--primary btn--full-width">Process Payment</button>
                                    <button class="btn btn--secondary btn--full-width">Clear Cart</button>
                                </div>
                            </div>
                        </div>
                    </div>
                </section>

                <!-- INVENTORY SECTION -->
                <section id="inventory-section" class="content-section">
                    <div class="section-header">
                        <h1>Inventory Management</h1>
                        <div class="header-actions">
                            <button id="export-inventory-pdf-btn" class="btn btn--secondary btn--sm">Export PDF</button>
                            <button id="export-inventory-excel-btn" class="btn btn--secondary btn--sm">Export Excel</button>
                            <button id="view-inventory-log-btn" class="btn btn--secondary">View Logs</button>
                        </div>
                    </div>

                    <div class="inventory-filter-bar">
                        <div class="filter-group">
                            <label for="inventory-search-name">Search Name:</label>
                            <input type="text" id="inventory-search-name" class="form-control" placeholder="e.g., Coffee Beans">
                        </div>
                        <div class="filter-group">
                            <label for="inventory-filter-category">Category:</label>
                            <select id="inventory-filter-category" class="form-control">
                                <option value="">All Categories</option>
                            </select>
                        </div>
                        <div class="filter-group">
                            <label for="inventory-filter-status">Status:</label>
                            <select id="inventory-filter-status" class="form-control">
                                <option value="">All Statuses</option>
                                <option value="in_stock">In Stock</option>
                                <option value="low_stock">Low Stock</option>
                                <option value="out_of_stock">Out of Stock</option>
                                <option value="expired">Expired</option>
                            </select>
                        </div>
                        <div class="filter-group">
                            <label for="inventory-filter-expiry">Expiry:</label>
                            <select id="inventory-filter-expiry" class="form-control">
                                <option value="">All Dates</option>
                                <option value="expired">Expired</option>
                                <option value="expiring_soon">Expiring in 7 Days</option>
                            </select>
                        </div>
                        <button id="inventory-reset-filters" class="btn btn--secondary" style="align-self: flex-end;">Reset</button>
                    </div>

                    <div class="table-container">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>Item ID</th>
                                    <th>Name</th>
                                    <th>Category</th>
                                    <th>Status</th>
                                    <th>Stock (Unit)</th>
                                     <th>Est. Servings</th>  
                                    <th>Min Stock (Base)</th>
                                    <th>Expiry Date</th>
                                    <th>Last Updated</th>
                                    <th>Conversion</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="inventory-table"></tbody>
                        </table>
                    </div>

                    <div class="pagination">
                        <button id="prevPage" disabled>Previous</button>
                        <span id="pageInfo">Page 1</span>
                        <button id="nextPage">Next</button>
                    </div>
                </section>

                <!-- INVENTORY LOG SECTION -->
                <section id="inventory-log-section" class="content-section hidden">
                    <div class="section-header">
                        <h1>Inventory Log</h1>
                        <div class="header-actions">
                            <div class="filter-controls" style="display: flex; gap: 10px; align-items: center;">
                                <select id="log-date-filter" class="form-control" style="padding: 6px; width: auto;">
                                    <option value="all">All Time</option>
                                    <option value="today">Today</option>
                                    <option value="week">This Week</option>
                                    <option value="month">This Month</option>
                                </select>
                            </div>
                            <button id="back-to-inventory-btn" class="btn btn--primary">‚Üê Back to Inventory</button>
                        </div>
                    </div>

                    <div class="table-container">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>Date & Time</th>
                                    <th>Employee</th>
                                    <th>Action</th>
                                    <th>Item</th>
                                    <th>Category</th>
                                    <th>Change</th>
                                    <th>Prev. Qty</th>
                                    <th>New Qty</th>
                                    <th>Reason</th>
                                </tr>
                            </thead>
                            <tbody id="inventory-log-table-body"></tbody>
                        </table>
                    </div>
                </section>
                <!-- RESTOCK PREDICTION SECTION -->
<section id="restock-prediction-section" class="content-section hidden">
    <div class="section-header">
        <h1>Restock Predictions</h1>
        <div class="header-actions">
            <button id="recalculate-predictions-btn" class="btn btn--secondary">
                üîÑ Recalculate Predictions
            </button>
            <button id="export-restock-pdf-btn" class="btn btn--secondary btn--sm">Export PDF</button>
        </div>
    </div>

    <!-- Summary Cards -->
    <div class="analytics-grid" style="margin-bottom: 24px;">
        <div class="stat-card" id="restock-card-critical">
            <h5>Critical (‚â§3 Days)</h5>
            <h2 id="restock-critical-count">0</h2>
        </div>
        <div class="stat-card" id="restock-card-warning">
            <h5>Warning (‚â§7 Days)</h5>
            <h2 id="restock-warning-count">0</h2>
        </div>
        <div class="stat-card" id="restock-card-good">
            <h5>Good Stock (>7 Days)</h5>
            <h2 id="restock-good-count">0</h2>
        </div>
        <div class="stat-card" id="restock-card-nodata">
            <h5>No Usage Data</h5>
            <h2 id="restock-nodata-count">0</h2>
        </div>
    </div>

    <!-- Settings Panel -->
    <div class="restock-settings-panel">
        <h4>Prediction Settings</h4>
        <div class="settings-row">
            <div class="setting-group">
                <label for="restock-lookback-days">Usage History Lookback:</label>
                <select id="restock-lookback-days" class="form-control">
                    <option value="7">7 Days (Fast-moving)</option>
                    <option value="14">14 Days</option>
                    <option value="30" selected>30 Days (Slow-moving)</option>
                </select>
            </div>
            <div class="setting-group">
                <label for="restock-lead-time">Default Lead Time (Days):</label>
                <input type="number" id="restock-lead-time" class="form-control" value="3" min="1" max="30">
            </div>
            <div class="setting-group">
                <label for="restock-filter-status">Filter by Status:</label>
                <select id="restock-filter-status" class="form-control">
                    <option value="all">All Items</option>
                    <option value="critical">Critical Only</option>
                    <option value="warning">Warning & Critical</option>
                    <option value="nodata">No Usage Data</option>
                </select>
            </div>
        </div>
    </div>

    <!-- Predictions Table -->
    <div class="table-container">
        <table class="data-table">
            <thead>
                <tr>
                    <th>Status</th>
                    <th>Item ID</th>
                    <th>Name</th>
                    <th>Category</th>
                    <th>Current Stock</th>
                    <th>Avg. Daily Usage</th>
                    <th>Days Remaining</th>
                    <th>Recommended Reorder</th>
                    <th>Lead Time</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody id="restock-prediction-table-body"></tbody>
        </table>
    </div>

    <!-- Info Note -->
    <div class="restock-info-note">
        <p><strong>‚ÑπÔ∏è How predictions work:</strong> The system analyzes ingredient usage from completed orders over the selected time period to calculate average daily consumption. Items with no sales history will fall back to manual reorder point monitoring.</p>
    </div>
</section>
<!-- ADD ITEMS SECTION -->
<!-- ADD ITEMS SECTION -->
<section id="add-items-section" class="content-section hidden">
    <div class="section-header">
        <h1>Add & Manage Items</h1>
    </div>
    
    <!-- Tabs for Add Items -->
    <div class="account-tabs">
        <button class="account-tab-btn active" data-target="add-new-item-tab">Add New Item</button>
        <button class="account-tab-btn" data-target="manage-categories-tab">Manage Categories</button>
        <button class="account-tab-btn" data-target="restock-items-tab" style="position: relative;">
            Restock Items
            <span id="restock-tab-alert-dot" class="sidebar-alert-dot" style="position: absolute; top: 8px; right: 8px;"></span>
        </button>
    </div>

    <!-- Add New Item Tab -->
    <div id="add-new-item-tab" class="account-table-container active">
        <div class="add-items-form-container">
            <form id="add-items-form">
                <div class="form-grid-two-col">
                    <div class="form-column">
                        <div class="form-group">
                            <label for="add-item-name">Ingredient Name: *</label>
                            <input type="text" id="add-item-name" class="form-control" placeholder="e.g., Coffee Beans" required />
                        </div>
                        <div class="form-group">
                            <label for="add-item-category">Category: *</label>
                            <select id="add-item-category" class="form-control" required>
                                <option value="">Loading categories...</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="add-item-expiry">Expiry Date:</label>
                            <input type="date" id="add-item-expiry" class="form-control" />
                        </div>
                        <div class="form-group">
                            <label for="add-item-min-stock">Low Stock Alert (Base Unit): *</label>
                            <input type="number" id="add-item-min-stock" class="form-control" min="0" placeholder="e.g., 2000" required />
                        </div>
                    </div>
                    <div class="form-column">
                        <div class="form-group">
                            <label for="add-item-stock">Stock Quantity: *</label>
                            <input type="number" id="add-item-stock" class="form-control" min="0" step="any" placeholder="e.g., 10" required />
                        </div>
                        <div class="form-group">
                            <label for="add-item-stock-unit">Stock Unit: *</label>
                            <input type="text" id="add-item-stock-unit" class="form-control" placeholder="e.g., bag, bottle" required />
                        </div>
<div class="form-group">
    <label for="add-item-base-unit">Base Unit: *</label>
    <select id="add-item-base-unit" class="form-control" required>
        <option value="">Select unit...</option>
        <optgroup label="Weight">
            <option value="g">g (grams)</option>
            <option value="kg">kg (kilograms)</option>
            <option value="mg">mg (milligrams)</option>
            <option value="oz">oz (ounces)</option>
            <option value="lb">lb (pounds)</option>
        </optgroup>
        <optgroup label="Volume">
            <option value="ml">ml (milliliters)</option>
            <option value="L">L (liters)</option>
            <option value="fl oz">fl oz (fluid ounces)</option>
            <option value="cup">cup</option>
            <option value="tbsp">tbsp (tablespoon)</option>
            <option value="tsp">tsp (teaspoon)</option>
        </optgroup>
        <optgroup label="Count">
            <option value="pcs">pcs (pieces)</option>
            <option value="slice">slice</option>
            <option value="sheet">sheet</option>
            <option value="sachet">sachet</option>
            <option value="pack">pack</option>
            <option value="dozen">dozen</option>
        </optgroup>
        <optgroup label="Other">
            <option value="serving">serving</option>
            <option value="portion">portion</option>
            <option value="scoop">scoop</option>
            <option value="shot">shot</option>
            <option value="pump">pump</option>
        </optgroup>
    </select>
</div>
                        <div class="form-group">
                            <label for="add-item-conversion">Conversion Factor: *</label>
                            <input type="number" id="add-item-conversion" class="form-control" min="1" step="any" placeholder="e.g., 1000" required />
                            <p style="font-size: 12px; color: #666; margin-top: 4px;">(1 Stock Unit = ? Base Units)</p>
                        </div>
                    </div>
                </div>
                <div class="form-actions" style="display: flex; gap: 12px; justify-content: flex-end; margin-top: 24px;">
                    <button type="button" id="cancel-add-item-btn" class="btn btn--secondary">Clear Form</button>
                    <button type="submit" class="btn btn--primary">Add Ingredient</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Manage Categories Tab -->
    <div id="manage-categories-tab" class="account-table-container">
        <div class="add-items-form-container">
            <form id="add-inv-category-form" style="display: flex; gap: 10px; margin-bottom: 20px;">
                <div class="form-group" style="flex-grow: 1; margin-bottom: 0;">
                    <label for="new-inv-category-name" style="margin-bottom: 4px;">New Category Name:</label>
                    <input type="text" id="new-inv-category-name" class="form-control" placeholder="e.g., Dairy, Produce...">
                </div>
                <button id="add-inv-category-btn" type="submit" class="btn btn--primary" style="align-self: flex-end;">Add Category</button>
            </form>
            <hr style="margin: 20px 0;">
            <label>Existing Categories:</label>
            <div class="table-container" style="max-height: 400px; overflow-y: auto;">
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>Category Name</th>
                            <th style="width: 120px;">Actions</th>
                        </tr>
                    </thead>
                    <tbody id="existing-inv-categories-tbody"></tbody>
                </table>
            </div>
        </div>
    </div>


<!-- Restock Items Tab -->
<div id="restock-items-tab" class="account-table-container">
    <div style="margin-bottom: 16px;">
        <p style="color: #666; font-size: 14px;">Items that need restocking (Low Stock or Out of Stock)</p>
    </div>
    
    <!-- NEW: Search Section -->
    <div class="restock-search-section" style="background: #f9fafb; padding: 16px; border-radius: 8px; margin-bottom: 20px;">
        <div style="display: flex; gap: 12px; align-items: flex-end; flex-wrap: wrap;">
            <div class="form-group" style="flex: 1; min-width: 200px; margin-bottom: 0;">
                <label for="restock-search-input">Search All Ingredients:</label>
                <input type="text" id="restock-search-input" class="form-control" placeholder="Search by name or ID...">
            </div>
            <div class="form-group" style="min-width: 150px; margin-bottom: 0;">
                <label for="restock-search-category">Category:</label>
                <select id="restock-search-category" class="form-control">
                    <option value="">All Categories</option>
                </select>
            </div>
            <div class="form-group" style="margin-bottom: 0;">
                <label for="restock-show-all">
                    <input type="checkbox" id="restock-show-all" style="margin-right: 6px;">
                    Show all items
                </label>
            </div>
            <button id="restock-search-reset" class="btn btn--secondary btn--small">Reset</button>
        </div>
        <p style="font-size: 12px; color: #888; margin-top: 8px;">
            üí° Tip: Check "Show all items" or search to find items that aren't low on stock
        </p>
    </div>

    <div class="analytics-grid" style="margin-bottom: 24px;">
        <div class="stat-card" id="restock-out-stock-card">
            <h5>Out of Stock</h5>
            <h2 id="restock-out-count">0</h2>
        </div>
        <div class="stat-card" id="restock-low-stock-card">
            <h5>Low Stock</h5>
            <h2 id="restock-low-count">0</h2>
        </div>
        <div class="stat-card" id="restock-in-stock-card" style="display: none;">
            <h5>In Stock (Showing)</h5>
            <h2 id="restock-in-stock-count">0</h2>
        </div>
    </div>

    <div class="table-container">
        <table class="data-table">
            <thead>
                <tr>
                    <th>Item ID</th>
                    <th>Name</th>
                    <th>Category</th>
                    <th>Status</th>
                    <th>Current Stock</th>
                    <th>Min Stock</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody id="restock-items-table-body"></tbody>
        </table>
    </div>
</div>
</section>
                <!-- TRANSACTIONS SECTION -->
                <section id="transactions-section" class="content-section hidden">
                    <div class="section-header">
                        <h1>Transaction History</h1>
                        <div class="header-actions">
                            <div class="filter-container">
                                <label for="filterRange">Sort by:</label>
                                <select id="filterRange">
                                    <option value="all">All</option>
                                    <option value="today">Today</option>
                                    <option value="week">This Week</option>
                                    <option value="month">This Month</option>
                                </select>
                            </div>
                            <div class="export-buttons">
                                <button id="export-pdf-btn" class="btn btn--secondary btn--sm">Export PDF</button>
                                <button id="export-excel-btn" class="btn btn--secondary btn--sm">Export Excel</button>
                            </div>
                        </div>
                    </div>

                    <div class="transactions-container">
                        <table class="transactions-table">
                            <thead>
                                <tr>
                                    <th>Order ID</th>
                                    <th>Date & Time</th>
                                    <th>Processed By</th>
                                    <th>Items</th>
                                    <th>Subtotal</th>
                                    <th>Tax</th>
                                    <th>Discount</th>
                                    <th>Total</th>
                                    <th>Payment Method</th>
                                    <th>Status</th>
                                </tr>
                            </thead>
                            <tbody id="transactions-list"></tbody>
                        </table>
                    </div>
                </section>

                <!-- RESERVATIONS SECTION -->
                <section id="reservations-section" class="content-section hidden">
                    <div class="section-header">
                        <h1>Reservations</h1>
                        <div class="header-actions">
                            <button id="view-reservation-history-btn" class="btn btn--secondary">View History</button>
                        </div>
                    </div>

                    <div class="inventory-filter-bar" style="margin-bottom: 24px;">
                        <div class="filter-group">
                            <label for="reservation-filter-status">Status:</label>
                            <select id="reservation-filter-status" class="form-control">
                                <option value="all">All</option>
                                <option value="pending">Pending</option>
                                <option value="approved">Approved</option>
                                <option value="completed">Completed</option>
                                <option value="canceled">Canceled</option>
                            </select>
                        </div>
                        <div class="filter-group">
                            <label for="reservation-filter-date">Date:</label>
                            <input type="date" id="reservation-filter-date" class="form-control">
                        </div>
                        <button id="reservation-reset-filters" class="btn btn--secondary">Reset</button>
                    </div>

                    <div class="analytics-grid" style="margin-bottom: 24px;">
                        <div class="stat-card" id="res-card-total">
                            <h5>Total Reservations</h5>
                            <h2 id="analytics-total-res">...</h2>
                        </div>
                        <div class="stat-card" id="res-card-pending">
                            <h5>Pending</h5>
                            <h2 id="analytics-pending-res">...</h2>
                        </div>
                        <div class="stat-card" id="res-card-approved">
                            <h5>Approved</h5>
                            <h2 id="analytics-approved-res">...</h2>
                        </div>
                        <div class="stat-card" id="res-card-today">
                            <h5>Today's Reservations</h5>
                            <h2 id="analytics-today-res">...</h2>
                        </div>
                    </div>
<!-- Reservations Cards Container -->
<div class="reservations-cards-container" id="reservations-cards-container">
    <!-- Cards will be dynamically generated here -->
</div>

<!-- Empty State (shown when no reservations) -->
<div class="reservations-empty-state hidden" id="reservations-empty-state">
    <span class="material-icons">event_busy</span>
    <h3>No Reservations Found</h3>
    <p>There are no reservations matching your current filters.</p>
</div>
                </section>

                <!-- RESERVATION HISTORY SECTION -->
                <section id="reservation-history-section" class="content-section hidden">
                    <div class="section-header">
                        <h1>Reservation History</h1>
                        <div class="header-actions">
                            <button id="back-to-reservations-btn" class="btn btn--primary">‚Üê Back to Reservations</button>
                        </div>
                    </div>

                    <div class="table-container">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>Name</th>
                                    <th>Contact</th>
                                    <th>Table</th>
                                    <th>Date</th>
                                    <th>Time</th>
                                    <th>Diners</th>
                                    <th>Pre-Order</th>
                                    <th>Receipt</th>
                                    <th>Notes</th>
                                    <th>Status</th>
                                </tr>
                            </thead>
                            <tbody id="reservation-history-table-body"></tbody>
                        </table>
                    </div>
                </section>

                <!-- ACCOUNTS SECTION -->
                <section id="accounts-section" class="content-section">
                    <div class="section-header">
                        <h1>Account Management</h1>
                    </div>

                    <div class="account-tabs">
                        <button class="account-tab-btn active" data-target="customer-accounts">Customers</button>
                        <button class="account-tab-btn" data-target="employee-accounts">Employees</button>
                    </div>

                    <div id="customer-accounts" class="account-table-container active">
                        <div class="table-container">
                            <table class="data-table">
                                <thead>
                                    <tr>
                                        <th>Name</th>
                                        <th>Email</th>
                                        <th>Phone</th>
                                        <th>Status</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody id="customer-accounts-table-body"></tbody>
                            </table>
                        </div>
                    </div>

                    <div id="employee-accounts" class="account-table-container">
                            <div class="section-header" style="margin-bottom: 16px;">
                                <h3 style="margin: 0; font-size: 1.2rem; color: var(--color-text);">Employee Accounts</h3>
                                <button id="add-employee-btn" class="btn btn--primary btn--sm">+ Add Employee</button>
                            </div>
                        <div class="table-container">
                            <table class="data-table">
                                <thead>
                                    <tr>
                                        <th>Name</th>
                                        <th>Email</th>
                                        <th>Permissions</th>
                                        <th>Actions</th>
                                    </tr>
                                </thead>
                                <tbody id="employee-accounts-table-body"></tbody>
                            </table>
                        </div>
                    </div>
                </section>

                <!-- FEEDBACK SECTION -->
<!-- FEEDBACK SECTION -->
<section id="feedback-section" class="content-section">
    <div class="section-header">
        <h1>Customer Feedback</h1>
        <div class="header-actions">
            <div class="average-rating-card">
                <h5>Average Rating</h5>
                <h2 id="overall-average-rating">...</h2>
            </div>
        </div>
    </div>

    <!-- Tabs for Feedback -->
    <div class="account-tabs">
        <button class="account-tab-btn active" data-target="feedback-active-tab">Active Feedback</button>
        <button class="account-tab-btn" data-target="feedback-history-tab">Feedback History</button>
    </div>

    <!-- Active Feedback Tab -->
    <div id="feedback-active-tab" class="account-table-container active">
        <div class="feedback-grid" id="feedback-grid-container"></div>
    </div>

    <!-- Feedback History Tab -->
    <div id="feedback-history-tab" class="account-table-container">
        <div class="table-container">
            <table class="data-table">
                <thead>
                    <tr>
                        <th>Customer Name</th>
                        <th>Rating</th>
                        <th>Comment</th>
                        <th>Image</th>
                        <th>Posted Date</th>
                        <th>Deleted Date</th>
                        <th>Deleted By</th>
                    </tr>
                </thead>
                <tbody id="feedback-history-table-body"></tbody>
            </table>
        </div>
    </div>
</section>

                <!-- ANALYTICS SECTION -->
                <section id="analytics-section" class="content-section">
                    <div class="section-header">
                        <h1>Business Analytics</h1>
                        <div class="header-actions">
                            <button id="generate-z-report-btn" class="btn btn--primary">Generate Z-Report</button>
                        </div>
                    </div>

                    <div class="analytics-grid">
                        <div class="stat-card">
                            <h5>Today's Sales</h5>
                            <h2 id="analytics-today-sales">$0.00</h2>
                        </div>
                        <div class="stat-card">
                            <h5>Today's Reservations</h5>
                            <h2 id="analytics-today-res">0</h2>
                        </div>
                        <div class="stat-card">
                            <h5>This Week's Sales</h5>
                            <h2 id="analytics-week-sales">$0.00</h2>
                        </div>
                        <div class="stat-card">
                            <h5>Low Stock Items</h5>
                            <h2 id="analytics-low-stock">0</h2>
                        </div>

                        <div class="chart-card chart-card-medium">
                            <div class="chart-header">
                                <h5 id="sales-chart-title">Weekly Sales Overview</h5>
                                <div class="filter-container">
                                    <select id="sales-chart-filter" class="form-control">
                                        <option value="week">This Week</option>
                                        <option value="month">This Month</option>
                                        <option value="today">Today (Hourly)</option>
                                    </select>
                                </div>
                            </div>
                            <canvas id="analytics-sales-chart"></canvas>
                        </div>

                        <div class="right-chart-column">
                            <div class="chart-card chart-card-small">
                                <h5>Top 5 Selling Items</h5>
                                <canvas id="analytics-top-items-chart"></canvas>
                            </div>

                            <div class="chart-card chart-card-small">
                                <h5>Reservation Status</h5>
                                <canvas id="analytics-reservation-chart"></canvas>
                            </div>
                        </div>
                    </div>
                </section>
            </div>
        </main>
    </div>

    <!-- MODALS -->
    <div id="product-modal" class="modal">
        <div class="modal-content modal-content--wide">
            <h2 id="modal-title">Add Ingredient</h2>
            <form id="product-form">
                <input type="hidden" id="product-id" />
                <div class="form-grid-two-col">
                    <div class="form-column">
                        <div class="form-group">
                            <label for="product-name">Ingredient Name:</label>
                            <input type="text" id="product-name" class="form-control" placeholder="e.g., Coffee Beans" required />
                        </div>
                        <div class="form-group">
                            <label for="product-category-dropdown">Category:</label>
                            <select id="product-category-dropdown" class="form-control" required>
                                <option value="">Loading categories...</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="product-expiry">Expiry Date:</label>
                            <input type="date" id="product-expiry" class="form-control" />
                        </div>
                        <div class="form-group">
                            <label for="product-min-stock">Low Stock Alert (in Base Unit):</label>
                            <input type="number" id="product-min-stock" class="form-control" min="0" placeholder="e.g., 2000 (for 2000g)" required />
                        </div>
                    </div>
                    <div class="form-column">
                        <div class="form-group">
                            <label for="product-stock">Stock Quantity:</label>
                            <input type="number" id="product-stock" class="form-control" min="0" step="any" placeholder="e.g., 10" required />
                        </div>
                        <div class="form-group">
                            <label for="product-stock-unit">Stock Unit (Purchase Unit):</label>
                            <input type="text" id="product-stock-unit" class="form-control" placeholder="e.g., bag, jug, bottle" required />
                        </div>
<div class="form-group">
    <label for="product-base-unit">Base Unit (Usage Unit):</label>
    <select id="product-base-unit" class="form-control" required>
        <option value="">Select unit...</option>
        <optgroup label="Weight">
            <option value="g">g (grams)</option>
            <option value="kg">kg (kilograms)</option>
            <option value="mg">mg (milligrams)</option>
            <option value="oz">oz (ounces)</option>
            <option value="lb">lb (pounds)</option>
        </optgroup>
        <optgroup label="Volume">
            <option value="ml">ml (milliliters)</option>
            <option value="L">L (liters)</option>
            <option value="fl oz">fl oz (fluid ounces)</option>
            <option value="cup">cup</option>
            <option value="tbsp">tbsp (tablespoon)</option>
            <option value="tsp">tsp (teaspoon)</option>
        </optgroup>
        <optgroup label="Count">
            <option value="pcs">pcs (pieces)</option>
            <option value="slice">slice</option>
            <option value="sheet">sheet</option>
            <option value="sachet">sachet</option>
            <option value="pack">pack</option>
            <option value="dozen">dozen</option>
        </optgroup>
        <optgroup label="Other">
            <option value="serving">serving</option>
            <option value="portion">portion</option>
            <option value="scoop">scoop</option>
            <option value="shot">shot</option>
            <option value="pump">pump</option>
        </optgroup>
    </select>
</div>
                        <div class="form-group">
                            <label for="product-conversion">Conversion Factor:</label>
                            <input type="number" id="product-conversion" class="form-control" min="1" step="any" placeholder="e.g., 1000" required />
                            <p style="font-size: 12px; color: #666; margin-top: 4px;">(1 Stock Unit = ? Base Units)</p>
                        </div>
                    </div>
                </div>
                <div class="modal-actions">
                    <button type="submit" class="btn btn--primary">Save</button>
                    <button type="button" id="cancel-btn" class="btn btn--secondary">Cancel</button>
                </div>
            </form>
        </div>
    </div>

    <div id="customer-info-modal" class="modal">
        <div class="modal-content">
            <h2 id="customer-info-title">Order Details</h2>
            <form id="customer-info-form">
                <div class="form-group">
                    <label for="customer-name">Customer Name:</label>
                    <input type="text" id="customer-name" class="form-control" placeholder="e.g., John D." required>
                </div>
                <div class="form-group">
                    <label for="order-type">Order Type:</label>
                    <select id="order-type" class="form-control" required>
                        <option value="Dine-In">Dine-In</option>
                        <option value="Take Out">Take Out</option>
                        <option value="Delivery">Delivery</option>
                    </select>
                </div>
                <div id="payment-details">
                    <div class="payment-method">
                        <strong>Mode of Payment:</strong>
                        <div>
                            <input type="radio" id="pay-cash" name="paymentMethod" value="Cash" checked>
                            <label for="pay-cash">Cash</label>
                        </div>
                        <div>
                            <input type="radio" id="pay-gcash" name="paymentMethod" value="Gcash">
                            <label for="pay-gcash">Gcash</label>
                        </div>
                        <div>
                            <input type="radio" id="pay-card" name="paymentMethod" value="Debit/Credit Card">
                            <label for="pay-card">Debit/Credit Card</label>
                        </div>
                    </div>
                    <div id="payment-cash-details">
                        <div class="form-group">
                            <label for="payment-amount">Payment Amount (‚Ç±):</label>
                            <input type="number" id="payment-amount" class="form-control" placeholder="0.00" step="any" min="0">
                        </div>
                        <div class="payment-change">
                            <p style="font-size: 1.1rem; font-weight: 600; color: #333;">
                                <strong>Total Due:</strong>
                                <span id="customer-modal-total" style="color: var(--color-primary);">‚Ç±0.00</span>
                            </p>
                            <strong>Change:</strong>
                            <span id="payment-change-display">‚Ç±0.00</span>
                        </div>
                    </div>
                </div>
                <div class="modal-buttons">
                    <button type="submit" class="btn btn--primary">Create Order</button>
                    <button type="button" id="cancel-customer-info-btn" class="btn btn--secondary">Cancel</button>
                </div>
            </form>
        </div>
    </div>

    <div id="order-details-modal" class="modal">
        <div class="modal-content modal-content--wide">
            <h2 id="order-modal-title">Order #0000</h2>
            <div id="order-modal-details" class="order-modal-grid">
                <div class="order-modal-info">
                    <p><strong>Customer:</strong> <span id="order-modal-customer"></span></p>
                    <p><strong>Order Type:</strong> <span id="order-modal-type"></span></p>
                    <p><strong>Total:</strong> <span id="order-modal-total"></span></p>
                    <p><strong>Avg. Wait:</strong> <span id="order-modal-wait-time"></span></p>
                    <p><strong>Time Left:</strong> <span id="order-modal-estimated-time">Calculating...</span></p>
                    <p><strong>Status:</strong> <span id="order-modal-status-text" class="status status-pending">Pending</span></p>
                </div>
                <div id="order-modal-items-container">
                    <h5>Items</h5>
                    <label>Item Checklist Progress:</label>
                    <div class="progress-bar" style="height: 12px; margin-bottom: 10px;">
                        <div id="order-modal-item-progress" class="progress-bar-inner" style="width: 0%; background-color: var(--color-blue-500);"></div>
                    </div>
                    <ul id="order-modal-item-list"></ul>
                </div>
            </div>
            <div class="modal-buttons">
                <button type="button" id="order-modal-void-btn" class="btn btn--secondary" style="background-color: var(--color-red-500); color: white;">Void Order</button>
                <button type="button" id="order-modal-back-btn" class="btn btn--secondary">Close</button>
                <button type="button" id="order-modal-print-btn" class="btn btn--info" style="display: none;">Print Receipt</button>
                <button type="button" id="order-modal-progress-btn" class="btn btn--primary">Mark as Preparing</button>
            </div>
        </div>
    </div>

    <div id="employee-modal" class="modal">
        <div class="modal-content modal-content--wide">
            <h2 id="employee-modal-title">Edit User Permissions</h2>
            <form id="employee-form">
                <input type="hidden" id="employee-id">
                <div class="form-grid-two-col">
                    <div class="form-column">
                        <div class="form-group">
                            <label for="employee-name">Full Name</label>
                            <input type="text" id="employee-name" class="form-control" readonly>
                        </div>
                        <div class="form-group">
                            <label for="employee-email">Email</label>
                            <input type="email" id="employee-email" class="form-control" readonly>
                        </div>
                        <div class="form-group">
                            <label for="role-select">User Role</label>
                            <select id="role-select" class="form-control">
                                <option value="customer">Customer</option>
                                <option value="employee">Employee</option>
                                <option value="admin">Admin</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-column">
                        <label>Access Matrix (Permissions)</label>
                        <div class="permissions-grid">
                            <div class="permission-item">
                                <input type="checkbox" id="perm-pos" data-permission="pos">
                                <label for="perm-pos">Point of Sale (POS)</label>
                            </div>
                            <div class="permission-item">
                                <input type="checkbox" id="perm-inventory" data-permission="inventory">
                                <label for="perm-inventory">Inventory</label>
                            </div>
                            <div class="permission-item">
                                <input type="checkbox" id="perm-transactions" data-permission="transactions">
                                <label for="perm-transactions">Transactions</label>
                            </div>
                            <div class="permission-item">
                                <input type="checkbox" id="perm-reservations" data-permission="reservations">
                                <label for="perm-reservations">Reservations</label>
                            </div>
                            <div class="permission-item">
                                <input type="checkbox" id="perm-feedback" data-permission="feedback">
                                <label for="perm-feedback">Feedback</label>
                            </div>
                            <div class="permission-item">
                                <input type="checkbox" id="perm-analytics" data-permission="analytics">
                                <label for="perm-analytics">Analytics</label>
                            </div>
                            <div class="permission-item">
                                <input type="checkbox" id="perm-accounts" data-permission="accounts">
                                <label for="perm-accounts" title="Grants admin access">Account Mgmt (Admin)</label>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-buttons">
                    <button type="submit" class="btn btn--primary">Save Changes</button>
                    <button type="button" id="cancel-employee-btn" class="btn btn--secondary">Cancel</button>
                </div>
            </form>
        </div>
    </div>

    <!-- <div id="inventory-category-modal" class="modal">
        <div class="modal-content modal-content--wide">
            <h2>Manage Inventory Categories</h2>
            <form id="add-inv-category-form" style="display: flex; gap: 10px; margin-bottom: 20px;">
                <div class="form-group" style="flex-grow: 1; margin-bottom: 0;">
                    <label for="new-inv-category-name" style="margin-bottom: 4px;">New Category Name:</label>
                    <input type="text" id="new-inv-category-name" class="form-control" placeholder="e.g., Dairy, Produce...">
                </div>
                <button id="add-inv-category-btn" type="submit" class="btn btn--primary" style="align-self: flex-end;">Add Category</button>
            </form>
            <hr style="margin: 20px 0;">
            <label>Existing Categories:</label>
            <div class="table-container" style="max-height: 300px; overflow-y: auto;">
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>Category Name</th>
                            <th style="width: 120px;">Actions</th>
                        </tr>
                    </thead>
                    <tbody id="existing-inv-categories-tbody"></tbody>
                </table>
            </div>
            <div class="modal-buttons" style="margin-top: 20px; justify-content: flex-end;">
                <button type="button" id="close-inv-category-btn" class="btn btn--secondary">Close</button>
            </div>
        </div>
    </div> -->

    <div id="image-view-modal" class="modal" style="padding: 20px;">
        <div class="modal-content" style="padding: 10px; max-width: 80vw; max-height: 80vh;">
            <span id="close-image-modal" class="close-modal">&times;</span>
            <img id="modal-image-src" src="" alt="Feedback Image" style="width: 100%; height: auto; max-height: 75vh; object-fit: contain;">
        </div>
    </div>

    <div id="variation-modal" class="modal">
        <div class="modal-content" style="width: 400px;">
            <h2 id="variation-modal-title">Select Variation</h2>
            <div id="variation-options-container"></div>
            <div class="modal-buttons" style="margin-top: 20px;">
                <button type="button" id="cancel-variation-btn" class="btn btn--secondary">Cancel</button>
            </div>
        </div>
    </div>

    <div id="reservation-message-modal" class="modal">
        <div class="modal-content" style="width: 500px;">
            <h2 id="modal-message-title">Reservation Action</h2>
            <form id="reservation-message-form">
                <div class="form-group">
                    <label for="notification-message-textarea">Message (Optional)</label>
                    <textarea id="notification-message-textarea" class="form-control" rows="4" placeholder="Optional: Add a message for the customer..."></textarea>
                </div>
                <div class="modal-buttons">
                    <button type="button" id="cancel-message-btn" class="btn btn--secondary">Cancel</button>
                    <button type="submit" id="confirm-message-btn" class="btn btn--primary">Confirm</button>
                </div>
            </form>
        </div>
    </div>

    <div id="view-details-modal" class="modal">
        <div class="modal-content" style="width: 500px;">
            <h2 id="view-details-title">Details</h2>
            <div id="view-details-content" class="modal-details-content"></div>
            <div class="modal-buttons" style="margin-top: 20px; justify-content: flex-end;">
                <button type="button" id="close-details-btn" class="btn btn--secondary">Close</button>
            </div>
        </div>
    </div>

    <div id="kitchen-stub-modal" class="modal">
        <div class="modal-content" style="width: 360px;">
            <h2 id="kitchen-stub-title">Send to Kitchen</h2>
            <div id="kitchen-stub-content"></div>
            <div class="modal-buttons" style="margin-top: 20px;">
                <button type="button" id="kitchen-stub-cancel-btn" class="btn btn--secondary">Cancel</button>
                <button type="button" id="kitchen-stub-send-btn" class="btn btn--primary">Send to Kitchen</button>
            </div>
        </div>
    </div>
<!-- Add Employee Modal -->
<div id="add-employee-modal" class="modal">
    <div class="modal-content modal-content--wide">
        <h2 id="add-employee-modal-title">Create New Employee Account</h2>
        <form id="add-employee-form">
            <div class="form-grid-two-col">
                <div class="form-column">
                    <div class="form-group">
                        <label for="new-employee-name">Full Name *</label>
                        <input type="text" id="new-employee-name" class="form-control" required placeholder="e.g., John Smith">
                    </div>
                    <div class="form-group">
                        <label for="new-employee-email">Email *</label>
                        <input type="email" id="new-employee-email" class="form-control" required placeholder="e.g., john@example.com">
                    </div>
                    <div class="form-group">
                        <label for="new-employee-password">Password *</label>
                        <input type="password" id="new-employee-password" class="form-control" required placeholder="Minimum 6 characters" minlength="6">
                        <p style="font-size: 12px; color: #666; margin-top: 4px;">Password must be at least 6 characters long.</p>
                    </div>
                    <div class="form-group">
                        <label for="new-employee-role">User Role *</label>
                        <select id="new-employee-role" class="form-control" required>
                            <option value="">Select role...</option>
                            <option value="employee">Employee</option>
                            <option value="admin">Admin</option>
                        </select>
                    </div>
                </div>
                <div class="form-column">
                    <label>Access Permissions</label>
                    <div class="permissions-grid">
                        <div class="permission-item">
                            <input type="checkbox" id="new-perm-pos" data-permission="pos">
                            <label for="new-perm-pos">Point of Sale (POS)</label>
                        </div>
                        <div class="permission-item">
                            <input type="checkbox" id="new-perm-inventory" data-permission="inventory">
                            <label for="new-perm-inventory">Inventory</label>
                        </div>
                        <div class="permission-item">
                            <input type="checkbox" id="new-perm-transactions" data-permission="transactions">
                            <label for="new-perm-transactions">Transactions</label>
                        </div>
                        <div class="permission-item">
                            <input type="checkbox" id="new-perm-reservations" data-permission="reservations">
                            <label for="new-perm-reservations">Reservations</label>
                        </div>
                        <div class="permission-item">
                            <input type="checkbox" id="new-perm-feedback" data-permission="feedback">
                            <label for="new-perm-feedback">Feedback</label>
                        </div>
                        <div class="permission-item">
                            <input type="checkbox" id="new-perm-analytics" data-permission="analytics">
                            <label for="new-perm-analytics">Analytics</label>
                        </div>
                        <div class="permission-item">
                            <input type="checkbox" id="new-perm-accounts" data-permission="accounts">
                            <label for="new-perm-accounts" title="Grants admin access">Account Mgmt (Admin)</label>
                        </div>
                    </div>
                    <p style="font-size: 12px; color: #666; margin-top: 12px;">
                        <strong>Note:</strong> If you select "Admin" role, all permissions will be automatically granted.
                    </p>
                </div>
            </div>
            <div class="modal-buttons">
                <button type="submit" class="btn btn--primary">Create Employee Account</button>
                <button type="button" id="cancel-add-employee-btn" class="btn btn--secondary">Cancel</button>
            </div>
        </form>
    </div>
</div>
<!-- Edit Lead Time Modal -->
<div id="edit-lead-time-modal" class="modal">
    <div class="modal-content" style="width: 400px;">
        <h2>Edit Restock Settings</h2>
        <form id="edit-lead-time-form">
            <input type="hidden" id="lead-time-ingredient-id">
            <div class="form-group">
                <label>Ingredient:</label>
                <p id="lead-time-ingredient-name" style="font-weight: 600; margin: 0;"></p>
            </div>
            <div class="form-group">
                <label for="ingredient-lead-time">Lead Time (Days):</label>
                <input type="number" id="ingredient-lead-time" class="form-control" min="1" max="60" required>
                <p style="font-size: 12px; color: #666; margin-top: 4px;">How many days does it take to receive this item after ordering?</p>
            </div>
            <div class="form-group">
                <label for="ingredient-reorder-point">Manual Reorder Point (Base Units):</label>
                <input type="number" id="ingredient-reorder-point" class="form-control" min="0" step="any">
                <p style="font-size: 12px; color: #666; margin-top: 4px;">Optional: Set a manual reorder threshold for items with unpredictable usage.</p>
            </div>
            <div class="modal-buttons">
                <button type="submit" class="btn btn--primary">Save Settings</button>
                <button type="button" id="cancel-lead-time-btn" class="btn btn--secondary">Cancel</button>
            </div>
        </form>
    </div>
</div>
    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/date-fns/cdn.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.8.2/jspdf.plugin.autotable.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>

    <script type="module" src="../scripts/firebase.js"></script>
    <script type="module" src="../scripts/advanced-pos.js"></script>
    <script type="module" src="../scripts/inventory-categories.js"></script>
    <script type="module" src="../scripts/inventory.js"></script>
    <script type="module" src="../scripts/transaction.js"></script>
     <script type="module" src="../scripts/employee-reservations.js"></script> 
     <script type="module" src="../scripts/reservation-cards.js"></script>
    <script type="module" src="../scripts/employee-feedback.js"></script>
    <script type="module" src="../scripts/analytics.js"></script>
    
    <script type="module" src="../scripts/add-employee.js"></script>
    <script type="module" src="../scripts/restock-prediction.js"></script>
    <script type="module" src="../scripts/ingredient-usage-logger.js"></script>
    <script type="module" src="app.js"></script>

    <script type="module">
        // Logout functionality
        document.addEventListener('DOMContentLoaded', () => {
            const logoutBtn = document.querySelector('.logout-btn');
            if (logoutBtn) {
                logoutBtn.addEventListener('click', () => {
                    window.location.href = '../login.html';
                });
            }
        });
    </script>
</body>
</html>